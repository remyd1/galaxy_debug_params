define(["galaxy.masthead"],function(b){var a=Backbone.Model.extend({options:null,masthead:null,initialize:function(c){this.options=c.config;this.masthead=c.masthead;this.create()},create:function(){var g=new b.GalaxyMastheadTab({id:"analysis",title:"Analyze Data",content:"root/index",title_attribute:"Analysis home view"});this.masthead.append(g);var j={id:"workflow",title:"Workflow",content:"workflow",title_attribute:"Chain tools into workflows"};if(!this.options.user.valid){j.disabled=true}var f=new b.GalaxyMastheadTab(j);this.masthead.append(f);var m=new b.GalaxyMastheadTab({id:"shared",title:"Shared Data",content:"library/index",title_attribute:"Access published resources"});m.add({title:"Data Libraries",content:"library/index"});m.add({title:"Data Libraries Beta",content:"library/list",divider:true});m.add({title:"Published Histories",content:"history/list_published"});m.add({title:"Published Workflows",content:"workflow/list_published"});m.add({title:"Published Visualizations",content:"visualization/list_published"});m.add({title:"Published Pages",content:"page/list_published"});this.masthead.append(m);if(this.options.user.requests){var n=new b.GalaxyMastheadTab({id:"lab",title:"Lab"});n.add({title:"Sequencing Requests",content:"requests/index"});n.add({title:"Find Samples",content:"requests/find_samples_index"});n.add({title:"Help",content:this.options.lims_doc_url});this.masthead.append(n)}if(this.options.user.valid){var e={id:"parameters",title:"Parameters",content:"parameters",title_attribute:"Accessible histories"};var i=new b.GalaxyMastheadTab(e);i.add({title:"Accessible histories",content:"parameters",target:"_frame",divider:true});i.add({title:"Display history parameters",content:"parameters/history_parameters?full_screen=False",target:"_frame"});i.add({title:"Display history parameters - reverse order",content:"parameters/history_parameters?reverse_order=True&amp;full_screen=False",target:"_frame"});i.add({title:"History parameters as XML",content:"parameters/history_parameters?as_xml=True",target:"_frame"});i.add({title:"Download parameters",content:"parameters/history_parameters?as_xml=True&amp;to_ext=True",target:"_frame"});this.masthead.append(i);if(this.options.is_admin_user){var k={id:"debug",title:"Debug",content:"parameters",title_attribute:"Accessible histories"};var c=new b.GalaxyMastheadTab(k);c.add({title:"Debug available histories",content:"parameters",target:"_frame",divider:true});c.add({title:"Debug command lines",content:"parameters/command_lines?full_screen=False",target:"_frame"});c.add({title:"Debug command lines - reverse_order",content:"parameters/command_lines?reverse_order=True&amp;full_screen=False",target:"_frame"});c.add({title:"Generate Shell script",content:"parameters/command_lines?full_screen=False&amp;to_ext=True",target:"_frame"});this.masthead.append(c)}}var d={id:"visualization",title:"Visualization",content:"visualization/list",title_attribute:"Visualize datasets"};if(!this.options.user.valid){d.disabled=true}var q=new b.GalaxyMastheadTab(d);if(this.options.user.valid){q.add({title:"New Track Browser",content:"visualization/trackster",target:"_frame"});q.add({title:"Saved Visualizations",content:"visualization/list",target:"_frame"})}this.masthead.append(q);if(this.options.enable_cloud_launch){var h=new b.GalaxyMastheadTab({id:"cloud",title:"Cloud",content:"cloudlaunch/index"});h.add({title:"New Cloud Cluster",content:"cloudlaunch/index"});this.masthead.append(h)}if(this.options.is_admin_user){var l=new b.GalaxyMastheadTab({id:"admin",title:"Admin",content:"admin/index",extra_class:"admin-only",title_attribute:"Administer this Galaxy"});this.masthead.append(l)}var p=new b.GalaxyMastheadTab({id:"help",title:"Help",title_attribute:"Support, contact, and community hubs"});if(this.options.biostar_url){p.add({title:"Galaxy Biostar",content:this.options.biostar_url_redirect,target:"_blank"});p.add({title:"Ask a question",content:"biostar/biostar_question_redirect",target:"_blank"})}p.add({title:"Support",content:this.options.support_url,target:"_blank"});p.add({title:"Search",content:this.options.search_url,target:"_blank"});p.add({title:"Mailing Lists",content:this.options.mailing_lists,target:"_blank"});p.add({title:"Videos",content:this.options.screencasts_url,target:"_blank"});p.add({title:"Wiki",content:this.options.wiki_url,target:"_blank"});p.add({title:"How to Cite Galaxy",content:this.options.citation_url,target:"_blank"});if(this.options.terms_url){p.add({title:"Terms and Conditions",content:this.options.terms_url,target:"_blank"})}this.masthead.append(p);if(!this.options.user.valid){var o=new b.GalaxyMastheadTab({id:"user",title:"User",extra_class:"loggedout-only",title_attribute:"Account registration or login"});o.add({title:"Login",content:"user/login",target:"galaxy_main"});if(this.options.allow_user_creation){o.add({title:"Register",content:"user/create",target:"galaxy_main"})}this.masthead.append(o)}else{var o=new b.GalaxyMastheadTab({id:"user",title:"User",extra_class:"loggedin-only",title_attribute:"Account preferences and saved data"});o.add({title:"Logged in as "+this.options.user.email});o.add({title:"Preferences",content:"user?cntrller=user",target:"galaxy_main"});o.add({title:"Custom Builds",content:"user/dbkeys",target:"galaxy_main"});o.add({title:"Logout",content:"user/logout",target:"_top",divider:true});o.add({title:"Saved Histories",content:"history/list",target:"galaxy_main"});o.add({title:"Saved Datasets",content:"dataset/list",target:"galaxy_main"});o.add({title:"Saved Pages",content:"page/list",target:"_top"});o.add({title:"API Keys",content:"user/api_keys?cntrller=user",target:"galaxy_main"});if(this.options.use_remote_user){o.add({title:"Public Name",content:"user/edit_username?cntrller=user",target:"galaxy_main"})}this.masthead.append(o)}if(this.options.active_view){this.masthead.highlight(this.options.active_view)}}});return{GalaxyMenu:a}});